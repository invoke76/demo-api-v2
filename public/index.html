
<!DOCTYPE html>
<html class="no-js" dir="ltr" lang="en">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>Building a Simple API with Rails on Heroku | Heroku Dev Center</title>
  <link href="https://devcenter.heroku.com/assets/favicon-ec1c49d2d16026c03484fa43c0d3a237.ico" rel="shortcut icon" type="image/vnd.microsoft.icon">

    <link rel="alternate" type="application/atom+xml" title="Heroku Recent Articles" href="http://feeds.feedburner.com/herokudevcenterarticles">
    <link rel="alternate" type="application/atom+xml" title="Heroku Changelog" href="http://feeds.feedburner.com/herokuchangelog">
  <link rel="search" type="application/opensearchdescription+xml" title="Heroku Dev Center" href="https://devcenter.heroku.com/opensearch.xml">

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
<script type="text/javascript">window.NREUM||(NREUM={});NREUM.info={"beacon":"beacon-3.newrelic.com","errorBeacon":"bam.nr-data.net","licenseKey":"ae43571cb3","applicationID":"2057789","transactionName":"dVwNTUMJVV9WR05REUJaAFVUFRZAW1oW","queueTime":9,"applicationTime":269,"ttGuid":"","agentToken":null,"agent":"js-agent.newrelic.com/nr-460.min.js"}</script>
<script type="text/javascript">window.NREUM||(NREUM={}),__nr_require=function(t,n,e){function r(e){if(!n[e]){var o=n[e]={exports:{}};t[e][0].call(o.exports,function(n){var o=t[e][1][n];return r(o?o:n)},o,o.exports)}return n[e].exports}if("function"==typeof __nr_require)return __nr_require;for(var o=0;o<e.length;o++)r(e[o]);return r}({QJf3ax:[function(t,n){function e(t){function n(n,e,o){t&&t(n,e,o),o||(o={});for(var a=i(n),u=a.length,c=o[r]||(o[r]={}),f=0;u>f;f++)a[f].apply(c,e);return c}function o(t,n){u[t]=i(t).concat(n)}function i(t){return u[t]||[]}function a(){return e(n)}var u={};return{on:o,emit:n,create:a,listeners:i,_events:u}}var r="nr@context";n.exports=e()},{}],ee:[function(t,n){n.exports=t("QJf3ax")},{}],D5DuLP:[function(t,n){function e(t,n,e){return r.listeners(t).length?r.emit(t,n,e):(o[t]||(o[t]=[]),void o[t].push(n))}var r=t("ee").create(),o={};n.exports=e,e.ee=r,r.q=o},{ee:"QJf3ax"}],handle:[function(t,n){n.exports=t("D5DuLP")},{}],loader:[function(t,n){n.exports=t("G9z0Bl")},{}],G9z0Bl:[function(t,n){function e(){var t=l.info=NREUM.info;if(t&&t.agent&&t.licenseKey&&t.applicationID&&c&&c.body){l.proto="https"===p.split(":")[0]||t.sslForHttp?"https://":"http://",a("mark",["onload",i()]);var n=c.createElement("script");n.src=l.proto+t.agent,c.body.appendChild(n)}}function r(){"complete"===c.readyState&&o()}function o(){a("mark",["domContent",i()])}function i(){return(new Date).getTime()}var a=t("handle"),u=window,c=u.document,f="addEventListener",s="attachEvent",p=(""+location).split("?")[0],l=n.exports={offset:i(),origin:p,features:{}};c[f]?(c[f]("DOMContentLoaded",o,!1),u[f]("load",e,!1)):(c[s]("onreadystatechange",r),u[s]("onload",e)),a("mark",["firstbyte",i()])},{handle:"D5DuLP"}]},{},["G9z0Bl"]);</script>
  <meta content="authenticity_token" name="csrf-param">
<meta content="cevvq4tq8P2v8hYmDVCIOzzadfV7urOtx8knr/Fvplk=" name="csrf-token">

  

  <meta name="description" content="How to run a Ruby on Rails 4 application on Heroku.">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@herokudevcenter">
    <meta name="twitter:title" content="Rails 4 on Heroku | Heroku Dev Center">
    <meta name="twitter:description" content="How to run a Ruby on Rails 4 application on Heroku.">

  <meta name="google-site-verification" content="V3T3n-QnyNOZlSVZgEfdXaKkJKyfw2yIP55nR00C8ZU">


      <link href="https://devcenter.heroku.com/assets/public-92f3cd70e38b4199fc60f6789ccb71ae.css" media="screen" rel="stylesheet" type="text/css">
    <link href="https://devcenter.heroku.com/assets/public/print-da923c6287f6aa560c085707f9e15cb1.css" media="print" rel="stylesheet" type="text/css">
    <!--[if IE 6]>
    <link href="https://universal-ie6-css.googlecode.com/files/ie6.0.3.css" media="screen" rel="stylesheet" type="text/css" />
    <![endif]-->

  
</head>

  <body>
    <div class="heroku-header">
  <div class="heroku-header-container container">

    <div class="heroku-header-hgroup">
      <a href="https://devcenter.heroku.com/">
        heroku
        <strong>dev center</strong>
      </a>
    </div>

    <div class="heroku-header-nav">
      <select class="js-select-nav">
        <option selected value="https://devcenter.heroku.com">Dev Center</option>
          <option value="https://www.heroku.com/pricing">Pricing</option>
          <option value="https://help.heroku.com/">Support</option>
          <option value="https://www.heroku.com/contact">Contact</option>
          <option value="/login?back_to=%2Farticles%2Frails4">Login</option>
          <option value="https://signup.heroku.com/signup/dc">Sign up</option>
      </select>

      <ul>
        <li>
          <a href="https://www.heroku.com/pricing">Pricing</a>
        </li>
        <li>
          <a href="https://help.heroku.com/">Support</a>
        </li>
        <li>
          <a href="https://www.heroku.com/contact">Contact</a>
        </li>
        <li>
          <a href="https://devcenter.heroku.com/login?back_to=%2Farticles%2Frails4">Login</a>
        </li>
        <li>
          <a href="https://signup.heroku.com/signup/dc">Sign up</a>
        </li>
      </ul>
    </div>
  </div>
</div>
    <div class="devcenter-header">
  <div class="devcenter-header-container container">
    <ul class="main-nav">
      <li><a class="" href="https://devcenter.heroku.com/articles/quickstart">Get<span class="desktop-only">ting</span> started</a></li>
      <li><a class="active" href="https://devcenter.heroku.com/categories/reference">Reference</a></li>
      <li><a class="" href="https://devcenter.heroku.com/categories/learning">Learning</a></li>
    </ul>

    <form class="nav-search" action="/search/raw" id="home-search" method="GET">
      <input class="js-search" id="query" name="query" placeholder="search" required="required" type="text">
    </form>
  </div>
</div>
    

    <div id="sheet">
      <div class="sheet-container container">
        <div class="nocontent">
  <div class="select-secondary-nav">
    <select class="js-select-nav">

        <option class="option" selected value="#">
          Languages
        </option>
        <option class="option" value="/categories/language-support">
          More in Languages...
        </option>

        <optgroup label="Reference">
              <option class="option" value="/categories/heroku-architecture">
                Heroku Architecture
              </option>
              <option class="option" value="/categories/language-support">
                Languages
              </option>
              <option class="option" value="/categories/features">
                Features
              </option>
              <option class="option" value="/categories/command-line">
                Command Line
              </option>
              <option class="option" value="/categories/deployment">
                Deployment
              </option>
              <option class="option" value="/categories/troubleshooting">
                Troubleshooting
              </option>
              <option class="option" value="/categories/collaboration">
                Collaboration
              </option>
              <option class="option" value="/categories/security">
                Security
              </option>
              <option class="option" value="/categories/support">
                Support
              </option>
              <option class="option" value="/categories/billing">
                Accounts &amp; Billing
              </option>
              <option class="option" value="/categories/organization-accounts">
                Organization Accounts
              </option>
              <option class="option" value="/categories/heroku-postgres">
                Heroku Postgres
              </option>
              <option class="option" value="/categories/devcenter">
                Dev Center
              </option>
              <option class="option" value="/categories/labs">
                Heroku Labs
              </option>
              <option class="option" value="/categories/extending-heroku">
                Extending Heroku
              </option>
              <option class="option" value="/changelog">
                Changelog
              </option>
        </optgroup>
    </select>
  </div>

  <ul class="secondary-nav ">
      <li class="section">
        <h2>Reference</h2>
          <ul>
              <li class="">
                <a href="https://devcenter.heroku.com/categories/heroku-architecture">Heroku Architecture</a>
              </li>
              <li class="active">
                <a href="https://devcenter.heroku.com/categories/language-support">Languages</a>
              </li>
              <li class="">
                <a href="https://devcenter.heroku.com/categories/features">Features</a>
              </li>
              <li class="">
                <a href="https://devcenter.heroku.com/categories/command-line">Command Line</a>
              </li>
              <li class="">
                <a href="https://devcenter.heroku.com/categories/deployment">Deployment</a>
              </li>
              <li class="">
                <a href="https://devcenter.heroku.com/categories/troubleshooting">Troubleshooting</a>
              </li>
              <li class="">
                <a href="https://devcenter.heroku.com/categories/collaboration">Collaboration</a>
              </li>
              <li class="">
                <a href="https://devcenter.heroku.com/categories/security">Security</a>
              </li>
              <li class="">
                <a href="https://devcenter.heroku.com/categories/support">Support</a>
              </li>
              <li class="">
                <a href="https://devcenter.heroku.com/categories/billing">Accounts &amp; Billing</a>
              </li>
              <li class="">
                <a href="https://devcenter.heroku.com/categories/organization-accounts">Organization Accounts</a>
              </li>
          </ul>
          <ul>
              <li class="">
                <a href="https://devcenter.heroku.com/categories/heroku-postgres">Heroku Postgres</a>
              </li>
          </ul>
          <ul>
              <li class="">
                <a href="https://devcenter.heroku.com/categories/devcenter">Dev Center</a>
              </li>
          </ul>
          <ul>
              <li class="">
                <a href="https://devcenter.heroku.com/categories/labs">Heroku Labs</a>
              </li>
          </ul>
          <ul>
              <li class="">
                <a href="https://devcenter.heroku.com/categories/extending-heroku">Extending Heroku</a>
              </li>
          </ul>
          <ul>
              <li class="">
                <a href="https://devcenter.heroku.com/changelog">Changelog</a>
              </li>
          </ul>
      </li>
  </ul>
</div>

<section class="main">

  <article class="article autolink ">
    <div id="admin-tabs"></div>
    
    

    <header>
      <h1 class="doc">Building a Simple API with Rails on Heroku</h1>
    </header>

    <div class="padder">

      <p class="meta">
        Last Updated: 02 October 2014
      </p>




        <section id="table-of-contents">
  <h3>Table of Contents</h3>
  <ul>
    <li><a href="#prerequisites">Prerequisites</a></li>
    <li><a href="#using-the-rails-api-gem">Using the rails-api gem</a></li>
    <li><a href="#middlewares">Middlewares</a></li>
    <li><a href="#using-the-rails-api-scaffold">Using the rails-api scaffold</a></li>
    <li><a href="#adding-versioning-to-your-api">Adding versioning to your API</a></li>
    <li><a href="#specific-heroku-setup">Specific Heroku setup</a></li>
    <li><a href="#deploying-to-heroku">Deploying to Heroku</a></li>
    <li><a href="#testing-against-heroku-using-curl">Testing against Heroku using curl</a></li>
    <li><a href="#authentication">Authentication</a></li>
    <li><a href="#testing-using-authorization-token-using-curl">Testing using authorization token using curl</a></li>
  </ul>

</section>

<p>This article takes you through the steps of creating a simple API application on Heroku using the rails-api gem, which is a lightweight implementation of Ruby on Rails specifically designed for building API application.</p>

<p>This article also introduces you to a number of basic Heroku features.</p>

<div class="note">
<p>If you have questions about Ruby on Heroku, consider discussing it in the <a href="https://discussion.heroku.com/category/ruby">Ruby on Heroku forums</a>.</p>
</div>

<h2 id="prerequisites">Prerequisites</h2>

<p>Make sure you have the latest versions of the following software installed:</p>

<ul>
  <li>Ruby</li>
  <li>Heroku Toolbelt</li>
  <li>Git</li>
</ul>

<h2 id="using-the-rails-api-gem">Using the rails-api gem</h2>

<p>The rails-api gem removes all the features in Ruby on Rails that are not needed when building API applications. It allows you to continue to use a framework you’re familiar with to write a fast and lightweight API application.</p>

<p>Start by installing the rails-api gem:</p>

<div class="CodeRay">
  <div class="code"><pre>$ gem install rails-api</pre></div>
</div>

<p>Generate a new project in a similar way to Rails:</p>

<div class="CodeRay">
  <div class="code"><pre>$ rails-api new my_api</pre></div>
</div>

<p>You can read more about rails-api at the <a href="https://github.com/rails-api/rails-api">rails-api documentation</a></p>

<p>Don’t forget to call <code>bundle install</code> in your project directory to ensure you have all the required gems.</p>

<h2 id="middlewares">Middlewares</h2>

<p><code>rails-api</code> comes with a number of middlewares enabled by default. You can find more information about enabling / disabling them at the rails-api documentation.</p>

<p>You will be creating your own custom middleware later in this article when we implement a mock authentication service.</p>

<h2 id="using-the-rails-api-scaffold">Using the rails-api scaffold</h2>

<p>In this example your API will manage reviews. rails-api provides the same commands as standard Rails for creating scaffolds. The added benefit is that the scaffolds are tailored for being an API application. In your project directory call:</p>

<div class="CodeRay">
  <div class="code"><pre>$ rails generate scaffold review title:string body:text rating:integer</pre></div>
</div>

<p>When this has completed remember to call rake <code>db:migrate</code>.</p>

<h2 id="adding-versioning-to-your-api">Adding versioning to your API</h2>

<p>It is best practice to add versioning to your API to provide a stable and consistent interface to users of your API as your application evolves. Update the routes in your application to add versioning (<code>config/routes.rb</code>):</p>

<div class="CodeRay">
  <div class="code"><pre>Rails.application.routes.draw do
  namespace :api do
    namespace :v1 do
      resource :review
      ...
    end
  end
end</pre></div>
</div>

<p>You will need to create <code>api/v1</code> directory under app/controllers and move your controllers there:</p>

<div class="CodeRay">
  <div class="code"><pre>app/controllers/api/v1/reviews_controller.rb</pre></div>
</div>

<p>Update the reviews controller to include the new modules:</p>

<div class="CodeRay">
  <div class="code"><pre>module Api
  module V1
    class ReviewsController < ApplicationController
      ...
    end
  end
end</pre></div>
</div>

<p>In the future when you release a new version of the API all you need to do is create a new folder (e.g. <code>app/controllers/api/v2</code>), update <code>config/routes.rb</code> and ensure the new controller goes in the new folder:</p>

<div class="CodeRay">
  <div class="code"><pre>Rails.application.routes.draw do
  namespace :api do
    namespace :v1 do
      resource :review
      ...
    end

    namespace :v2 do
      resource :review
      ...
    end
  end
end
</pre></div>
</div>

<p>Start the rails server to test your API:</p>

<div class="CodeRay">
  <div class="code"><pre>rails server</pre></div>
</div>

<p>You will now be able to create new reviews using the following curl command:</p>

<div class="CodeRay">
  <div class="code"><pre>curl -X POST -H "Cache-Control:no-cache" -F "title=My review" -F "body=This is my review. It was great." -F "rating=5" http://localhost:3000/api/v1/reviews</pre></div>
</div>

<p>and get all reviews:</p>

<div class="CodeRay">
  <div class="code"><pre>curl -X GET -H "Cache-Control:no-cache" http://localhost:3000/api/v1/reviews</pre></div>
</div>

<h3>API versioning using HTTP headers</h3>

<p><em>If I was writing a full blown article I would add detail about using HTTP headers to define API version and how to default http://localhost:3000/api/reviews to the latest version of the API.</em></p>

<h2 id="specific-heroku-setup">Specific Heroku setup</h2>

<p>Next you will configure your application to run on Heroku.</p>

<h3>Using Unicorn with Rails</h3>

<p>Change the default Ruby engine to use Unicorn. This will give you better performance on Heroku than using the standard Thin web server. Create the following file <code>config/unicorn.rb</code>.</p>

<div class="CodeRay">
  <div class="code"><pre># config/unicorn.rb
worker_processes Integer(ENV["WEB_CONCURRENCY"] || 3)
timeout 15
preload_app true

before_fork do |server, worker|
  Signal.trap 'TERM' do
    puts 'Unicorn master intercepting TERM and sending myself QUIT instead'
    Process.kill 'QUIT', Process.pid
  end

  defined?(ActiveRecord::Base) and
    ActiveRecord::Base.connection.disconnect!
end

after_fork do |server, worker|
  Signal.trap 'TERM' do
    puts 'Unicorn worker intercepting TERM and doing nothing. Wait for master to send QUIT'
  end

  defined?(ActiveRecord::Base) and
    ActiveRecord::Base.establish_connection
end</pre></div>
</div>

<p>Create <code>Procfile</code> in your project root directory with the following line:</p>

<div class="CodeRay">
  <div class="code"><pre>web: bundle exec unicorn -p $PORT -c ./config/unicorn.rb</pre></div>
</div>

<p>And finally add the Unicorn gem to your <code>Gemfile</code>:</p>

<div class="CodeRay">
  <div class="code"><pre># Use unicorn as the app server
gem 'unicorn'</pre></div>
</div>

<p>Don’t forget to run <code>bundle install</code> in install the new gem.</p>

<p>You can read more in the <a href="https://devcenter.heroku.com/articles/rails-unicorn">Unicorn with Rails documentation</a>.</p>

<h3>Further Rails 4 Heroku Setup</h3>

<p>There are still a number of steps you should follow to configure your application to run on Heroku. These include:</p>

<ul>
  <li>Using Postgres</li>
  <li>Installing the 12factor gem</li>
</ul>

<p>Read the <a href="https://devcenter.heroku.com/articles/rails4">Rails 4 on Heroku article</a> and follow the steps there before returning here.</p>

<p>After you’ve completed the steps in the Rails 4 on Heroku article your Gemfile should look something like this:</p>

<div class="CodeRay">
  <div class="code"><pre>source 'https://rubygems.org'
ruby '2.1.2'

gem 'rails', '4.1.0'
gem 'rails-api'

# To use ActiveModel has_secure_password
gem 'bcrypt-ruby', '~> 3.1.2'

group :production do
  gem 'pg'
  gem 'rails_12factor'
end

group :development, :test do
  gem 'sqlite3'
  gem 'spring'
end

# Use unicorn as the app server
gem 'unicorn'</pre></div>
</div>

<h3>SSL</h3>

<p>For security reasons you should run your API over SSL. In testing you can call a herokuapp.com domain name over SSL. When you want to start using your own domain name then you will need to install the <a href="https://addons.heroku.com/ssl">SSL add-on for Heroku</a>.</p>

<h2 id="deploying-to-heroku">Deploying to Heroku</h2>

<p>Make sure all of your files are in git before deploying to Heroku:</p>

<div class="CodeRay">
  <div class="code"><pre>$ git add .
$ git commit -m 'Deploying to Heroku'</pre></div>
</div>

<p>Then create a new Heroku app by running $ heroku create, or push to an existing one by running:</p>

<div class="CodeRay">
  <div class="code"><pre>$ git push heroku master</pre></div>
</div>

<p>Then view the application by running:</p>

<div class="CodeRay">
  <div class="code"><pre>$ heroku open</pre></div>
</div>

<p>You can also deploy this version of the app by click on the Heroku button below:</p>

<p><a href="https://heroku.com/deploy?template=https://github.com/invoke76/demo-api-v2"><img src="https://camo.githubusercontent.com/c0824806f5221ebb7d25e559568582dd39dd1170/68747470733a2f2f7777772e6865726f6b7563646e2e636f6d2f6465706c6f792f627574746f6e2e706e67" alt="Deploy" data-canonical-src="https://www.herokucdn.com/deploy/button.png" style="max-width:100%;"></a></p>

<h2 id="testing-against-heroku-using-curl">Testing against Heroku using curl</h2>

<h3>Creating a new review</h3>

<div class="CodeRay">
  <div class="code"><pre>curl -X POST -H "Cache-Control:no-cache" -F "title=My review" -F "body=This is my review. It was great." -F "rating=5" https://demo-api-v2.herokuapp.com/api/v1/reviews</pre></div>
</div>

<h3>Get all reviews</h3>

<div class="CodeRay">
  <div class="code"><pre>curl -X GET -H "Cache-Control:no-cache" https://demo-api-v2.herokuapp.com/api/v1/reviews</pre></div>
</div>

<h3>Get specific review</h3>

<div class="CodeRay">
  <div class="code"><pre>curl -X GET -H "Cache-Control:no-cache" https://demo-api-v2.herokuapp.com/api/v1/reviews/1</pre></div>
</div>

<h3>Delete review</h3>

<div class="CodeRay">
  <div class="code"><pre>curl -X DELETE -H "Cache-Control:no-cache" https://demo-api-v2.herokuapp.com/api/v1/reviews/6</pre></div>
</div>

<h2 id="authentication">Authentication</h2>

<p><em>If I was writing a full blown article I would now add detail about different authentication strategies for an API.</em></p>

<h3>Access Tokens</h3>

<ul>
  <li>Assumptions are that you'd have the token already</li>
  <li>Authenticating against a 3rd party authentication service</li>
  <li>Authentication process returns user ID</li>
</ul>

<p>Create a new middleware to handle authentication with 3rd party service and to receive user ID.</p>

<p>Create authorisation middleware module <code>lib/big_corp_token_authentication.rb</code>:</p>

<div class="CodeRay">
  <div class="code"><pre>class BigCorpTokenAuthentication

  def initialize(app)
    @app = app
  end

  def call(env)
    @env = env
    if token_is_valid?
      @app.call(env)
    else
      Rack::Response.new("Unauthorized", 401)
    end
  end

  private

  def token_is_valid?
    # This would normally call out to BigCorp's user authentication system using .bearer
    # Returns true for the purposes of demo.
    #
    # e.g. check_with_api(bearer)
    true

    # and a user_id is returned
    @env[:user_id] = 1234
  end

  def bearer
    bearer_from_header(@env["HTTP_AUTHORIZATION"])
  end

  def bearer_from_header(header)
    bearer = header.to_s.match(/Bearer (.*)/) {|m| m[1]}
    if bearer
      bearer
    else
      nil
    end
  end
end</pre></div>
</div>

<p>Add authorisation middleware to <code>config/application.rb</code>:</p>

<div class="CodeRay">
  <div class="code"><pre>require_relative '../lib/big_corp_token_authentication'

module DemoApiV2
  class Application < Rails::Application
    config.middleware.use ::BigCorpTokenAuthentication
  end
end</pre></div>
</div>

<h2 id="testing-using-authorization-token-using-curl">Testing using authorization token using curl</h2>

<h3>Creating a new review</h3>

<div class="CodeRay">
  <div class="code"><pre>curl -X POST -H "Cache-Control:no-cache" -H "Authorization: Bearer <token>" -F "title=My review" -F "body=This is my review. It was great." -F "rating=5" https://demo-api-v2.herokuapp.com/api/v1/reviews</pre></div>
</div>

<h3>Get all reviews</h3>

<div class="CodeRay">
  <div class="code"><pre>curl -X GET -H "Cache-Control:no-cache" -H "Authorization: Bearer <token>" https://demo-api-v2.herokuapp.com/api/v1/reviews</pre></div>
</div>

<h3>Get specific review</h3>

<div class="CodeRay">
  <div class="code"><pre>curl -X GET -H "Cache-Control:no-cache" -H "Authorization: Bearer <token>" https://demo-api-v2.herokuapp.com/api/v1/reviews/1</pre></div>
</div>

<h3>Delete review</h3>

<div class="CodeRay">
  <div class="code"><pre>curl -X DELETE -H "Cache-Control:no-cache" -H "Authorization: Bearer <token>" https://demo-api-v2.herokuapp.com/api/v1/reviews/1</pre></div>
</div>

      <section class="article-extras">
        <div class="nocontent">
  <section class="keep-reading">
    <h2 id="keep-reading">
      <a href="#keep-reading">Keep reading</a>
    </h2>
    <ul>
        <li>
          <a href="https://devcenter.heroku.com/articles/architecting-apps">Architecting Apps</a>
        </li>
        <li>
          <a href="https://devcenter.heroku.com/articles/rails4">Rails 4 on Heroku</a>
        </li>
        <li>
          <a href="https://www.heroku.com/postgres">Postgres on Heroku</a>
        </li>
        <li>
          <a href="https://devcenter.heroku.com/articles/rails-unicorn">Deploying Rails Applications with Unicorn</a>
        </li>
        <li>
          <a href="https://devcenter.heroku.com/articles/herokuconnect">Heroku Connect</a>
        </li>
    </ul>
  </section>
</div>


        <div class="nocontent">
  <section class="js-article-feedback article-feedback secondary-article-section">
    <div class="step1">
      <h2 id="feedback"><a href="#feedback">Feedback</a></h2>

      <p>
        <a href="https://devcenter.heroku.com/login?back_to=%2Farticles%2Frails4&amp;utm_campaign=login&amp;utm_medium=feedback&amp;utm_source=web">Log in to submit feedback</a>.
      </p>
    </div>
    <p class="step3">
      Your feedback has been sent to the <a href="mailto:devcenter-feedback@heroku.com">Dev Center</a> team. Thank you.
    </p>
  </section>
</div>

      </section>

    </div>
  </article>

  <section class="nocontent" id="pagination">
  <a href="https://devcenter.heroku.com/articles/rails-4-asset-pipeline" id="previous" rel="prev">« Rails 4 Asset Pipeline on Heroku</a>
  <a href="https://devcenter.heroku.com/articles/rails-asset-pipeline" id="next" rel="next">Rails Asset Pipeline on Heroku Cedar »</a>
</section>
</section>




        <footer>
  <div class="container">
    <div class="nav navbar-nav">
      <a href="https://www.heroku.com/home">heroku.com</a>
      <a href="https://www.heroku.com/policy/privacy" class="privacy">Privacy Policy</a>
    </div>
  </div>
</footer>

      </div>
    </div>

      <!-- Google Tag Manager -->
  <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-JD26" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-JD26');</script>
  <!-- End Google Tag Manager -->

<script src="/assets/public-7c9cd70e3c9868dc98c38bc6db98979f.js" type="text/javascript"></script>

<!--[if lt IE 9]>
<script src="/assets/public/vendor/selectivizr-1.0.min-e12aff0870999e4ee41b32e5aa7dc15d.js" type="text/javascript"></script>
<![endif]-->

<script>
  
$( function() {
  setAccordion(0);

  var $feedback = $('.js-article-feedback'),
      $step1 = $feedback.find('.step1'),
      $openStep2 = $step1.find('.open'),
      $step2 = $feedback.find('.step2'),
      $step3 = $feedback.find('.step3');

  var openFeedback = function() {
    $openStep2.replaceWith($openStep2.text())
    $step2.fadeIn(10, function(){
      if (!iPhone && !iPad){
        $('html, body').animate({scrollTop:$(document).height()}, 1500);
      }
    }).find('textarea').focus();
  }

  $openStep2.click( function(e){
    e.preventDefault()
    if (! $step2.is(':visible')) openFeedback() // already open in small screens
  })

  $step2.submit( function(e){
    e.preventDefault();
    $step2.find('input[type="submit"]').attr('disabled', true).val('Sending');
    $.post( $step2.attr('action'), $step2.serialize(),
      function(data){
        $step1.fadeOut(10);
        $step1.find('textarea').val('');
        $step3.fadeIn(10);
      }
    )
  })

  $('.js-article-feedback textarea').autosize()

  if (document.location.href.indexOf('#feedback') != -1) {
    openFeedback()
  }
});

</script>
<script>
  
</script>

  </body>
</html>
